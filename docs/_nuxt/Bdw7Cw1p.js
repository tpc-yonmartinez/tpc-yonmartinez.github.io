const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./D150l39L.js","./CaSnHAEL.js","./entry.DrSC9zqn.css","./YdCxgJFt.js","./InputSelect.nq-JgNCb.css","./Au2zTRXQ.js","./Pagination.BrvjBRo3.css","./Caekublx.js","./Filters.DRF6mHD5.css","./splide.Doz5KnUv.css"])))=>i.map(i=>d[i]);
import{_ as q,r as i,h as H,B as C,z as J,C as S,i as K,c as s,o,p as c,a as x,l as r,j as P,t as B,m as D,b as V,k as $,D as Q,E as W,F as X,x as Y,q as I,v as Z}from"./CaSnHAEL.js";import{o as ee}from"./C9qK_yfL.js";import{u as te}from"./LzioZZFg.js";const le={key:0,class:"catalog_top flex flex-col gap-[30px] mx-[-20px] md:mx-[-10vw] px-[20px] md:px-[10vw]"},ae={key:0,class:"catalog_top_title text-center lg:w-[50vw] lg:mx-auto"},oe={class:"catalog_content scroll-t flex flex-col gap-[40px]"},se={key:0,class:"catalog_content_filter"},re={key:0,class:"catalog_content_controles_search w-full sm:w-[300px]"},ne={key:1,class:"catalog_content_controles_perpage flex flex-row items-center gap-[20px] w-full sm:w-[300px] sm:justify-end"},ie={key:0},ce={key:0,class:"flex justify-center items-center"},pe={key:0,class:"not-found text-center font-black opacity-10 text-[65px]"},de={key:2,class:"catalog_content_pagination"},ue={__name:"Catalog",props:{filters:{type:Boolean,default:!1},stylecards:{type:String,default:""},categories:{type:Array,default:null},title:{type:String,default:""},description:{type:String,default:""},modalglobal:{type:Array,default:()=>[]},modalglobaltext:{type:String,default:""},totalservices:{type:Number,default:0},hotels:{type:Array,default:()=>[]},placeholderserch:{type:String,default:""},placeholderperpage:{type:String,default:""},showperpage:{type:Boolean,default:!0},searchitem:{type:Boolean,default:!0},ordercards:{type:Boolean,default:!1},pagination:{type:Boolean,default:!0},showiconall:{type:Boolean,default:!1}},setup(a){const E=D(()=>I(()=>import("./D150l39L.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),A=D(()=>I(()=>import("./Au2zTRXQ.js"),__vite__mapDeps([5,1,2,6]),import.meta.url)),N=D(()=>I(()=>import("./Caekublx.js"),__vite__mapDeps([7,1,2,8,9]),import.meta.url)),n=a;let m=i(0);const{t:y}=H(),b=i(""),U=C("catalogId"),d=i(1),f=i(n.pagination?12:n.totalservices),v=i(""),u=i(0),p=i([]),F=i(n.totalservices),O=C("modal"),g=C("sendResortCatalog"),h=i(!0),k=i(!1),j=t=>{t!==m.value&&(d.value=1),m.value=t||null},w=n.hotels.reduce((t,l)=>[...t||[],l.resort],[]),R=async t=>{h.value=!0,p.value=[],n.ordercards&&(t+="&sort=true"),await $fetch(`/strv4/catalog-services?pagination[page]=${d.value}&pagination[pageSize]=${f.value}&filters[catalogid]=${U.value}${t}`).then(l=>{const e=g.value?.guest>0?l.data.filter(_=>_.adultsonly!==1):l.data;p.value=e,F.value=n.pagination?l.totalRegistros:e.length}).catch(l=>(console.error("Error: ",l),{data:[]})),h.value=!1},z=t=>d.value=t;J(()=>{R("")}),S(()=>g.value,t=>{t?.resort&&(u.value=t.resort)},{deep:!0}),S(()=>b.value,t=>{const l=n.hotels.find(e=>e.resort===t);u.value=l?.id}),S(()=>[d.value,f.value,u.value,m.value,v.value,g.value?.guest],(t,l)=>{let e="";l[2]!=u.value?k.value=!0:k.value=!1,t[1]!=l[1]&&(d.value=1),u.value>0&&(e+=`&filters[hotel]=${u.value}`),m.value&&(e+=`&filters[category]=${m.value.id}`),v.value&&(e+=`&filters[search]=${v.value}`),R(e)});const M=t=>{const l=te(n.modalglobal);O.value={type:"ModalService",data:p.value,modalglobal:{btntext:n.modalglobaltext,embedform:l},current:p.value.findIndex(e=>e.service_id===t),position:!1}},T=t=>{t&&ee(t.modalName,t.id)},L=(t,l="")=>["https://bookingsvenice.baglionihotels.com/rooms","https://bookingsrome.baglionihotels.com/rooms","https://bookingslondon.baglionihotels.com/rooms","https://bookingsmilan.baglionihotels.com/rooms","https://bookingsflorence.baglionihotels.com/rooms","https://bookingspuglia.baglionihotels.com/rooms","https://bookingsmaldives.baglionihotels.com/rooms","https://bookingssardinia.baglionihotels.com/rooms","https://onlinebookingspr.palaceresorts.com/rooms","https://onlinebookingspr.leblancsparesorts.com","https://bookingscancunpr.moonpalace.com/rooms","https://bookings.baglionihotels.com","https://bookingsbeachpr.palaceresorts.com/rooms","https://bookingscozumelpr.palaceresorts.com/rooms","https://bookingsplayadelcarmenpr.palaceresorts.com/rooms","https://bookingssunpr.palaceresorts.com/rooms","https://bookingscancunpr.leblancsparesorts.com/rooms","https://bookingscabopr.leblancsparesorts.com/rooms","https://bookingscancunpr.moonpalace.com/rooms","https://bookingsjamaicapr.moonpalace.com/rooms","https://bookingsnizucpr.moonpalace.com/rooms","https://bookingsthegrandpr.moonpalace.com/rooms"].includes(t)&&l?`${t}${l}`:t,G=K(()=>n.categories?.filter(t=>g.value?.resort&&t?.filterresorts?.length>0?t.filterresorts.find(l=>l.id===g.value?.resort):t));return(t,l)=>(o(),s("div",{ref:"catalog",class:$(["catalog py-[50px] md:py-[60px] xl:py-[5vw] 2xl:py-[100px] flex flex-col gap-[40px]",{"-mx-[20px] px-[20px] md:-mx-[10vw] xl:px-[10vw] md:!py-[60px]":a.stylecards!="Default"}])},[a.title||r(w)?.length?(o(),s("div",le,[a.title?(o(),s("h1",ae,B(a.title),1)):c("",!0),r(w)?.length?(o(),P(r(E),{key:1,class:"catalog_top_hotels w-full lg:w-[300px] mx-auto",placeholder:"Select Resorts",resetlist:"",list:r(w),modelValue:b.value,"onUpdate:modelValue":l[0]||(l[0]=e=>b.value=e)},null,8,["list","modelValue"])):c("",!0)])):c("",!0),x("div",oe,[a.categories?.length?(o(),s("div",se,[V(r(N),{categories:G.value,onOnFilter:j,all:r(y)("gallerygrid.all"),refresh:k.value,stylefilter:a.stylecards,showiconall:a.showiconall},null,8,["categories","all","refresh","stylefilter","showiconall"])])):c("",!0),a.searchitem||a.showperpage?(o(),s("div",{key:1,class:$(["catalog_content_controles flex flex-col gap-[30px] items-center sm:flex-row sm:justify-between",{"2xl:px-[3.33333vw]":a.stylecards==="Default"},{"2xl:px-[3.80208vw]":a.stylecards==="Full"}])},[a.searchitem?(o(),s("div",re,[Q(x("input",{type:"search",class:"w-full",name:"search",placeholder:"","onUpdate:modelValue":l[1]||(l[1]=e=>v.value=e)},null,512),[[W,v.value]]),x("label",null,B(a.placeholderserch||r(y)("catalog.search")),1)])):c("",!0),a.showperpage?(o(),s("div",ne,[a.placeholderperpage?(o(),s("p",ie,B(a.placeholderperpage),1)):c("",!0),V(r(E),{list:[12,18,24],class:"flex-1 sm:w-[100px] lg:flex-none lg:w-[130px]",placeholder:r(y)("catalog.perpage"),modelValue:f.value,"onUpdate:modelValue":l[2]||(l[2]=e=>f.value=e)},null,8,["placeholder","modelValue"])])):c("",!0)],2)):c("",!0),x("div",null,[h.value?(o(),s("div",ce,l[3]||(l[3]=[x("div",{class:"sppiner"},null,-1)]))):(o(),s("div",{key:1,class:$({"catalog_content__cards relative flex flex-col gap-[40px]":!0,"sm:grid sm:grid-cols-2 lg:grid-cols-3":p.value?.length,"sm:gap-x-[10px] sm:gap-y-[40px] md:gap-x-[20px] md:gap-y-[40px]":a.stylecards==="Default","2xl:px-[3.33333vw] sm:gap-x-[20px] lg:gap-x-[32px] md:gap-y-[40px] xl:gap-y-[60px]":a.stylecards==="Simple","2xl:px-[3.80208vw] sm:gap-x-[20px] md:gap-y-[40px]":a.stylecards==="Full"})},[(o(!0),s(X,null,Y(p.value,(e,_)=>(o(),s("div",{key:_},[(o(),P(Z(`Catalog${a.stylecards||"Default"}`),{media:e.media,tag:e.tag,title:e.servicetitle,description:e.servicedescription,btntext:e.btntext,internal:e.urlinternal,external:L(e.urlexternal,r(g)?.params),modal:e.modal,listbenefit:e.listbenefit,titlebenefits:e.titlebenefits,remaining:e.remaining,rating:e.rating,disclaimer:e.disclaimer,price:e.prices,coderesort:e.coderesort,titleurlexternal:e.titleurlexternal,onClick:ge=>a.stylecards=="Simple"?T(e.modal):a.stylecards=="Default"?M(e.service_id):{}},null,8,["media","tag","title","description","btntext","internal","external","modal","listbenefit","titlebenefits","remaining","rating","disclaimer","price","coderesort","titleurlexternal","onClick"]))]))),128)),p.value<=0&&!h.value?(o(),s("div",pe," NOT FOUND ")):c("",!0)],2))]),a.pagination?(o(),s("div",de,[V(r(A),{perpage:f.value,currentpage:d.value,totalpages:F.value,parent:"catalog",onChangePage:z},null,8,["perpage","currentpage","totalpages"])])):c("",!0)])],2))}},xe=q(ue,[["__scopeId","data-v-edc381f0"]]);export{xe as default};
