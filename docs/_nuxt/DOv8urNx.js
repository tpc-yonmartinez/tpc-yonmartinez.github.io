import{_ as f,z as c,H as u,A as p,c as d,o as s,L as i}from"./CigFolaj.js";const w={class:"form-embed"},I={__name:"FormEmbed",props:{region:{type:String,default:""},formId:{type:String,default:""},portalId:{type:String,default:""},timer:{type:Boolean,default:!1},parent:{type:String,default:"form"}},setup(r){const t=r;let o=0;const m=n=>{let e="";t.parent=="form"?e="formSubmit":e="subscribeSubmit",window.dataLayer=window.dataLayer||[];const a={event:e};n.submissionValues.email&&Object.assign(a,{email:btoa(n.submissionValues.email)}),window.dataLayer.push(a)},l=()=>{document.getElementById(`form-${t.formId}`)&&(window.clearInterval(o),window.hbspt.forms.create({region:t.region,portalId:t.portalId,formId:t.formId,target:`#form-${t.formId}`,onFormSubmitted:(n,e)=>m(e)}))};return c(()=>{u(()=>{window.clearInterval(o),window.hbspt&&(o=window.setInterval(l,500))})}),p(()=>{window.clearInterval(o),o=0}),(n,e)=>(s(),d("div",w,[e[0]||(i(-1,!0),(e[0]=(s(),d("div",{class:"form-embed__content",id:`form-${r.formId}`,key:r.formId},null,8,["id"]))).cacheIndex=0,i(1),e[0])]))}},_=f(I,[["__scopeId","data-v-7b49e782"]]);export{_ as default};
