const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./a7eAeaLJ.js","./D-E3gFlk.js","./entry.2rAfpnGC.css","./CC455K8c.js","./ImageStrapi.CAS1IjVN.css"])))=>i.map(i=>d[i]);
import{X as $,D as C,_ as z,h as U,r as j,j as B,A as Z,C as q,c as l,o as a,a as r,p as d,b as v,d as S,i as o,m as b,Y as Q,F as E,y as L,t as n,w as k,k as G,Z as X,q as w,e as Y}from"./D-E3gFlk.js";import{a as H,S as J}from"./xo6z2E6x.js";import{_ as K}from"./CA8g22C-.js";const O=t=>{if(!t||!Array.isArray(t))throw $({statusCode:503,statusMessage:"Items must be an Array and contain Country/Countries property"});return t.find(f=>f?.countries?f.countries?.country?.includes(C("countryCode").value?.alpha3)||f.countries?.length<=0||!f.countries:f?.country?.includes(C("countryCode").value?.alpha3)||f?.country?.length<=0||!f?.country)},W={class:"catalog_content__card relative flex flex-col h-full"},tt={class:"catalog_content__card_media relative rounded-t-[--border-m] overflow-hidden w-full h-auto aspect-[4/3]"},et={key:0,class:"pointer-events-none absolute z-[2] top-[20px] w-full px-[10px] lg:px-[20px] flex justify-between items-start"},at={key:0,class:"note flex flex-col bg-[--bg-box] px-[12px] py-[4px] rounded-[--radius-s]"},lt={class:"flex gap-[5px] items-center"},rt={class:"bullet-rating relative flex gap-[1px] flex-1"},st={xmlns:"http://www.w3.org/2000/svg",width:"44",height:"8",viewBox:"0 0 44 8",fill:"none"},nt=["cx","fill"],it={key:1,class:"note capital only:ml-auto bg-[--bg-alt] text-[--color-base-alt] px-[12px] py-[4px] rounded-[--radius-s]"},ot={class:"catalog_content__card__info flex flex-col gap-[20px] justify-between flex-1 bg-[--bg-box] rounded-b-[--border-m] p-[20px]"},ct={class:"flex flex-col gap-[10px]"},dt={key:0,class:"flex flex-col"},ft={key:0},ut={key:1,class:"py-[6px] px-[12px] bg-[--page-bg] rounded-[--border-s]"},pt={class:"flex gap-[10px]"},yt={class:"flex flex-col gap-[10px] xl:gap-0 xl:flex-row xl:justify-between xl:items-end"},xt={class:"flex flex-col items-center xl:items-start"},vt={key:0,class:"sppiner"},gt={key:1},ht={class:"hidden xl:block"},_t={class:"catalog_content__card__price flex gap-[6px] items-baseline"},mt={class:"block xl:hidden"},bt={class:"h2 !text-[30px] !text-[--title-alt]"},kt={class:"note capital"},wt={key:0,class:"xl:only:justify-end xl:only:flex xl:only:w-full"},Ct={__name:"Full",props:{media:{type:Array,default:null},tag:{type:String,default:""},title:{type:String,default:""},description:{type:String,default:""},btntext:{type:String,default:""},internal:{type:Object,default:null},external:{type:String,default:""},modal:{type:Object,default:null},titlebenefits:{type:String,default:""},listbenefit:{type:String,default:""},remaining:{type:String,default:""},rating:{type:Number,default:0},disclaimer:{type:String,default:""},price:{type:Array,default:null},coderesort:{type:String,default:""},titleurlexternal:{type:String,default:""}},setup(t){const f=b(()=>w(()=>import("./a7eAeaLJ.js"),__vite__mapDeps([0,1,2]),import.meta.url)),R=b(()=>w(()=>import("./CC455K8c.js"),__vite__mapDeps([3,1,2,4]),import.meta.url)),T=b(()=>w(()=>import("./D-E3gFlk.js").then(e=>e.a5),__vite__mapDeps([1,2]),import.meta.url)),I=b(()=>w(()=>import("./D-E3gFlk.js").then(e=>e.a4),__vite__mapDeps([1,2]),import.meta.url)),{t:g}=U(),h=C("sendResortCatalog"),u=j(null),_=j(!1),P=X(),i=t,D={mediaQuery:"min",type:"slide",lazyLoad:"nearby",preloadPages:1,perPage:1,focus:"center",arrows:!0,arrowPath:"M10.9091 40C10.6818 40 10.4545 39.9048 10.2727 39.7143C9.90909 39.3333 9.90909 38.7619 10.2727 38.381L27.8182 20L10.2727 1.61905C9.90909 1.2381 9.90909 0.666667 10.2727 0.285714C10.6364 -0.0952381 11.1818 -0.0952381 11.5455 0.285714L29.7273 19.3333C30.0909 19.7143 30.0909 20.2857 29.7273 20.6667L11.5455 39.7143C11.3636 39.9048 11.1364 40 10.9091 40Z",classes:{prev:"splide__arrow--prev disabled:hidden",next:"splide__arrow--next disabled:hidden"}},A=B(()=>i.listbenefit?i.listbenefit.split(`
`):[]),F=B(()=>{const e=Math.floor(i.rating),c=i.rating-e,p=[];for(let s=0;s<5;s++)s<e?p.push({fill:"var(--btn-primary)"}):s===e&&c>0?p.push({fill:`url(#half-fill-${s})`}):p.push({fill:"none"});return p}),V=()=>{const e=i.price?O(i.price):null;e?.currency&&e?.price&&(u.value={average:e.price,currency:e.currency})},N=async(e,c,p,s)=>{_.value=!0;let y=null;const x=e?O(e):null,M=C("countryCode").value?.alpha2||"US";return x?.currency&&c&&(y=await $fetch(`${P.public.averageUrl}/api/v2/public/rates/property/get/${c+"/"+M+"/"+x.currency}`,{headers:{"api-key":P.public.keyaverage},params:{date_start:p,date_end:s}}).then(m=>{if(!m.Error)return`$${new Intl.NumberFormat({style:"currency",currency:x.currency}).format(m.data.avg_total)}`}).catch(m=>(console.error("Error: ",m),{data:[]}))),_.value=!1,{average:y||x?.price,currency:x?.currency}};return Z(()=>{i.price&&h.value?N(i.price,i.coderesort,h.value.checkin,h.value.checkout).then(e=>{u.value=e}).catch(e=>{u.value=null,console.error("Error: ",e)}):V()}),q(()=>h.value,e=>{e&&i.price?N(i.price,i.coderesort,e.checkin,e.checkout).then(c=>{u.value=c}).catch(c=>{u.value=null,console.error("Error: ",c)}):V()},{deep:!0}),(e,c)=>{const p=Y;return a(),l("div",W,[r("div",tt,[t.rating||t.remaining?(a(),l("div",et,[t.rating?(a(),l("div",at,[r("div",lt,[v(o(I),{variant:"owl",class:"[&_svg_path]:!fill-[--btn-primary] h-[16px] w-[16px]"}),r("div",rt,[(a(),l("svg",st,[c[0]||(c[0]=Q('<defs data-v-7c219fff><linearGradient id="half-fill-0" x1="0%" y1="0%" x2="100%" y2="0%" data-v-7c219fff><stop offset="50%" style="stop-color:var(--btn-primary);stop-opacity:1;" data-v-7c219fff></stop><stop offset="50%" style="stop-color:transparent;stop-opacity:1;" data-v-7c219fff></stop></linearGradient><linearGradient id="half-fill-1" x1="0%" y1="0%" x2="100%" y2="0%" data-v-7c219fff><stop offset="50%" style="stop-color:var(--btn-primary);stop-opacity:1;" data-v-7c219fff></stop><stop offset="50%" style="stop-color:transparent;stop-opacity:1;" data-v-7c219fff></stop></linearGradient><linearGradient id="half-fill-2" x1="0%" y1="0%" x2="100%" y2="0%" data-v-7c219fff><stop offset="50%" style="stop-color:var(--btn-primary);stop-opacity:1;" data-v-7c219fff></stop><stop offset="50%" style="stop-color:transparent;stop-opacity:1;" data-v-7c219fff></stop></linearGradient><linearGradient id="half-fill-3" x1="0%" y1="0%" x2="100%" y2="0%" data-v-7c219fff><stop offset="50%" style="stop-color:var(--btn-primary);stop-opacity:1;" data-v-7c219fff></stop><stop offset="50%" style="stop-color:transparent;stop-opacity:1;" data-v-7c219fff></stop></linearGradient><linearGradient id="half-fill-4" x1="0%" y1="0%" x2="100%" y2="0%" data-v-7c219fff><stop offset="50%" style="stop-color:var(--btn-primary);stop-opacity:1;" data-v-7c219fff></stop><stop offset="50%" style="stop-color:transparent;stop-opacity:1;" data-v-7c219fff></stop></linearGradient></defs>',1)),(a(!0),l(E,null,L(F.value,(s,y)=>(a(),l("circle",{key:y,cx:4+y*9,cy:"4",r:"3.5",stroke:"--btn-primary",fill:s.fill},null,8,nt))),128))]))])]),S(" "+n(t.rating)+" "+n(o(g)("catalog.rating")),1)])):d("",!0),t.remaining?(a(),l("p",it,n(t.remaining),1)):d("",!0)])):d("",!0),v(o(J),{options:D},{default:k(()=>[(a(!0),l(E,null,L(t.media,(s,y)=>(a(),G(o(H),{key:y,class:"h-auto aspect-[4/3]"},{default:k(()=>[v(o(R),{image:s,class:"catalog_content__card_media_img h-full w-full"},null,8,["image"])]),_:2},1024))),128))]),_:1})]),r("div",ot,[r("div",ct,[t.tag||t.title||t.description?(a(),l("div",dt,[t.tag?(a(),l("label",ft,n(t.tag),1)):d("",!0),t.title?(a(),G(p,{key:1,target:"_blank",to:t.titleurlexternal,class:"h3"},{default:k(()=>[S(n(t.title),1)]),_:1},8,["to"])):d("",!0),t.description?(a(),G(o(f),{key:2,wrapper:"p",html:o(K)(t.description)},null,8,["html"])):d("",!0)])):d("",!0),t.titlebenefits||A.value.length>0?(a(),l("div",ut,[r("label",null,n(t.titlebenefits),1),(a(!0),l(E,null,L(A.value,(s,y)=>(a(),l("div",pt,[v(o(I),{variant:"check",class:"h-[16px] w-[16px] [&_svg_path]:!fill-[--decorative-color]"}),r("label",null,n(s),1)]))),256))])):d("",!0)]),r("div",yt,[r("div",xt,[_.value?(a(),l("div",vt)):u.value&&u.value?.average&&!_.value?(a(),l("div",gt,[r("label",ht,n(o(g)("from")),1),r("div",_t,[r("label",mt,n(o(g)("from")),1),r("span",bt,n(u.value.average),1),r("label",null,n(u.value.currency),1)]),r("label",kt,n(t.disclaimer||o(g)("night")),1)])):d("",!0)]),t.btntext?(a(),l("div",wt,[v(o(T),{variant:"primary",buttonExternalLink:t.external,buttonInternalLink:t.internal,buttonModal:t.modal},{default:k(()=>[S(n(t.btntext),1)]),_:1},8,["buttonExternalLink","buttonInternalLink","buttonModal"])])):d("",!0)])])])}}},It=z(Ct,[["__scopeId","data-v-7c219fff"]]);export{It as default};
