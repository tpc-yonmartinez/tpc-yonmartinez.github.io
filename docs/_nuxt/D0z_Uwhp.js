const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./M-wD74eT.js","./CTVYfOym.js","./entry.BKtV5M1i.css","./CI-AeKQy.js","./ImageStrapi.CAS1IjVN.css","./BjiGZPmB.js","./Button.CjvoybNi.css"])))=>i.map(i=>d[i]);
import{_ as M,h as z,B as A,r as B,i as N,z as U,C as q,c as l,o as a,a as r,p as d,b as x,d as w,l as n,m as h,a8 as Q,F as S,x as C,t as i,w as b,j as E,a0 as Z,q as k,e as H}from"./CTVYfOym.js";import{S as J,a as K}from"./BYQ2LndU.js";/* empty css        */import{u as j}from"./BPEFSxMe.js";import{_ as W}from"./CA8g22C-.js";const X={class:"catalog_content__card relative flex flex-col h-full"},Y={class:"catalog_content__card_media relative rounded-t-[--border-m] overflow-hidden w-full h-auto aspect-[4/3]"},tt={key:0,class:"pointer-events-none absolute z-[2] top-[20px] w-full px-[10px] lg:px-[20px] flex justify-between items-start"},et={key:0,class:"note flex flex-col bg-[--bg-box] px-[12px] py-[4px] rounded-[--radius-s]"},at={class:"flex gap-[5px] items-center"},lt={class:"bullet-rating relative flex gap-[1px] flex-1"},rt={xmlns:"http://www.w3.org/2000/svg",width:"44",height:"8",viewBox:"0 0 44 8",fill:"none"},ot=["cx","fill"],it={key:1,class:"note capital only:ml-auto bg-[--bg-alt] text-[--color-base-alt] px-[12px] py-[4px] rounded-[--radius-s]"},st={class:"catalog_content__card__info flex flex-col gap-[20px] justify-between flex-1 bg-[--bg-box] rounded-b-[--border-m] p-[20px]"},nt={class:"flex flex-col gap-[10px]"},ct={key:0,class:"flex flex-col"},dt={key:0},ft={key:1,class:"py-[6px] px-[12px] bg-[--page-bg] rounded-[--border-s]"},ut={class:"flex gap-[10px]"},pt={class:"flex flex-col gap-[10px] xl:gap-0 xl:flex-row xl:justify-between xl:items-end"},yt={class:"flex flex-col items-center xl:items-start"},xt={key:0,class:"sppiner"},vt={key:1},mt={class:"hidden xl:block"},gt={class:"catalog_content__card__price flex gap-[6px] items-baseline"},_t={class:"block xl:hidden"},ht={class:"h2 !text-[30px] !text-[--title-alt]"},bt={class:"note capital"},kt={key:0,class:"xl:only:justify-end xl:only:flex xl:only:w-full"},wt={__name:"Full",props:{media:{type:Array,default:null},tag:{type:String,default:""},title:{type:String,default:""},description:{type:String,default:""},btntext:{type:String,default:""},internal:{type:Object,default:null},external:{type:String,default:""},modal:{type:Object,default:null},titlebenefits:{type:String,default:""},listbenefit:{type:String,default:""},remaining:{type:String,default:""},rating:{type:Number,default:0},disclaimer:{type:String,default:""},price:{type:Array,default:null},coderesort:{type:String,default:""},titleurlexternal:{type:String,default:""}},setup(t){const O=h(()=>k(()=>import("./M-wD74eT.js"),__vite__mapDeps([0,1,2]),import.meta.url)),R=h(()=>k(()=>import("./CI-AeKQy.js"),__vite__mapDeps([3,1,2,4]),import.meta.url)),T=h(()=>k(()=>import("./BjiGZPmB.js"),__vite__mapDeps([5,1,2,6]),import.meta.url)),L=h(()=>k(()=>import("./CTVYfOym.js").then(e=>e.ac),__vite__mapDeps([1,2]),import.meta.url)),{t:v}=z(),m=A("sendResortCatalog"),f=B(null),g=B(!1),G=Z(),s=t,F={mediaQuery:"min",type:"slide",lazyLoad:"nearby",preloadPages:1,perPage:1,focus:"center",arrows:!0,arrowPath:"M10.9091 40C10.6818 40 10.4545 39.9048 10.2727 39.7143C9.90909 39.3333 9.90909 38.7619 10.2727 38.381L27.8182 20L10.2727 1.61905C9.90909 1.2381 9.90909 0.666667 10.2727 0.285714C10.6364 -0.0952381 11.1818 -0.0952381 11.5455 0.285714L29.7273 19.3333C30.0909 19.7143 30.0909 20.2857 29.7273 20.6667L11.5455 39.7143C11.3636 39.9048 11.1364 40 10.9091 40Z",classes:{prev:"splide__arrow--prev disabled:hidden",next:"splide__arrow--next disabled:hidden"}},P=N(()=>s.listbenefit?s.listbenefit.split(`
`):[]),$=N(()=>{const e=Math.floor(s.rating),c=s.rating-e,u=[];for(let o=0;o<5;o++)o<e?u.push({fill:"var(--btn-primary)"}):o===e&&c>0?u.push({fill:`url(#half-fill-${o})`}):u.push({fill:"none"});return u}),I=()=>{const e=s.price?j(s.price):null;e?.currency&&e?.price&&(f.value={average:e.price,currency:e.currency})},V=async(e,c,u,o)=>{g.value=!0;let p=null;const y=e?j(e):null,D=A("countryCode").value?.alpha2||"US";return y?.currency&&c&&(p=await $fetch(`${G.public.averageUrl}/api/v2/public/rates/property/get/${c+"/"+D+"/"+y.currency}`,{headers:{"api-key":G.public.keyaverage},params:{date_start:u,date_end:o}}).then(_=>{if(!_.Error)return`$${new Intl.NumberFormat({style:"currency",currency:y.currency}).format(_.data.avg_total)}`}).catch(_=>(console.error("Error: ",_),{data:[]}))),g.value=!1,{average:p||y?.price,currency:y?.currency}};return U(()=>{s.price&&m.value?V(s.price,s.coderesort,m.value.checkin,m.value.checkout).then(e=>{f.value=e}).catch(e=>{f.value=null,console.error("Error: ",e)}):I()}),q(()=>m.value,e=>{e&&s.price?V(s.price,s.coderesort,e.checkin,e.checkout).then(c=>{f.value=c}).catch(c=>{f.value=null,console.error("Error: ",c)}):I()},{deep:!0}),(e,c)=>{const u=H;return a(),l("div",X,[r("div",Y,[t.rating||t.remaining?(a(),l("div",tt,[t.rating?(a(),l("div",et,[r("div",at,[x(n(L),{variant:"owl",class:"[&_svg_path]:!fill-[--btn-primary] h-[16px] w-[16px]"}),r("div",lt,[(a(),l("svg",rt,[c[0]||(c[0]=Q('<defs data-v-7c219fff><linearGradient id="half-fill-0" x1="0%" y1="0%" x2="100%" y2="0%" data-v-7c219fff><stop offset="50%" style="stop-color:var(--btn-primary);stop-opacity:1;" data-v-7c219fff></stop><stop offset="50%" style="stop-color:transparent;stop-opacity:1;" data-v-7c219fff></stop></linearGradient><linearGradient id="half-fill-1" x1="0%" y1="0%" x2="100%" y2="0%" data-v-7c219fff><stop offset="50%" style="stop-color:var(--btn-primary);stop-opacity:1;" data-v-7c219fff></stop><stop offset="50%" style="stop-color:transparent;stop-opacity:1;" data-v-7c219fff></stop></linearGradient><linearGradient id="half-fill-2" x1="0%" y1="0%" x2="100%" y2="0%" data-v-7c219fff><stop offset="50%" style="stop-color:var(--btn-primary);stop-opacity:1;" data-v-7c219fff></stop><stop offset="50%" style="stop-color:transparent;stop-opacity:1;" data-v-7c219fff></stop></linearGradient><linearGradient id="half-fill-3" x1="0%" y1="0%" x2="100%" y2="0%" data-v-7c219fff><stop offset="50%" style="stop-color:var(--btn-primary);stop-opacity:1;" data-v-7c219fff></stop><stop offset="50%" style="stop-color:transparent;stop-opacity:1;" data-v-7c219fff></stop></linearGradient><linearGradient id="half-fill-4" x1="0%" y1="0%" x2="100%" y2="0%" data-v-7c219fff><stop offset="50%" style="stop-color:var(--btn-primary);stop-opacity:1;" data-v-7c219fff></stop><stop offset="50%" style="stop-color:transparent;stop-opacity:1;" data-v-7c219fff></stop></linearGradient></defs>',1)),(a(!0),l(S,null,C($.value,(o,p)=>(a(),l("circle",{key:p,cx:4+p*9,cy:"4",r:"3.5",stroke:"--btn-primary",fill:o.fill},null,8,ot))),128))]))])]),w(" "+i(t.rating)+" "+i(n(v)("catalog.rating")),1)])):d("",!0),t.remaining?(a(),l("p",it,i(t.remaining),1)):d("",!0)])):d("",!0),x(n(J),{options:F},{default:b(()=>[(a(!0),l(S,null,C(t.media,(o,p)=>(a(),E(n(K),{key:p,class:"h-auto aspect-[4/3]"},{default:b(()=>[x(n(R),{image:o,class:"catalog_content__card_media_img h-full w-full"},null,8,["image"])]),_:2},1024))),128))]),_:1})]),r("div",st,[r("div",nt,[t.tag||t.title||t.description?(a(),l("div",ct,[t.tag?(a(),l("label",dt,i(t.tag),1)):d("",!0),t.title?(a(),E(u,{key:1,target:"_blank",to:t.titleurlexternal,class:"h3"},{default:b(()=>[w(i(t.title),1)]),_:1},8,["to"])):d("",!0),t.description?(a(),E(n(O),{key:2,wrapper:"p",html:n(W)(t.description)},null,8,["html"])):d("",!0)])):d("",!0),t.titlebenefits||P.value.length>0?(a(),l("div",ft,[r("label",null,i(t.titlebenefits),1),(a(!0),l(S,null,C(P.value,(o,p)=>(a(),l("div",ut,[x(n(L),{variant:"check",class:"h-[16px] w-[16px] [&_svg_path]:!fill-[--decorative-color]"}),r("label",null,i(o),1)]))),256))])):d("",!0)]),r("div",pt,[r("div",yt,[g.value?(a(),l("div",xt)):f.value&&f.value?.average&&!g.value?(a(),l("div",vt,[r("label",mt,i(n(v)("from")),1),r("div",gt,[r("label",_t,i(n(v)("from")),1),r("span",ht,i(f.value.average),1),r("label",null,i(f.value.currency),1)]),r("label",bt,i(t.disclaimer||n(v)("night")),1)])):d("",!0)]),t.btntext?(a(),l("div",kt,[x(n(T),{variant:"primary",buttonExternalLink:t.external,buttonInternalLink:t.internal,buttonModal:t.modal},{default:b(()=>[w(i(t.btntext),1)]),_:1},8,["buttonExternalLink","buttonInternalLink","buttonModal"])])):d("",!0)])])])}}},It=M(wt,[["__scopeId","data-v-7c219fff"]]);export{It as default};
