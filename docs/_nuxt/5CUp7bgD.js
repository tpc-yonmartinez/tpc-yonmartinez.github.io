import{_ as c,A as f,G as u,B as p,c as d,o as s,J as i}from"./D-E3gFlk.js";const w={class:"form-embed"},I={__name:"FormEmbed",props:{region:{type:String,default:""},formId:{type:String,default:""},portalId:{type:String,default:""},timer:{type:Boolean,default:!1},parent:{type:String,default:"form"}},setup(r){const t=r;let o=0;const m=n=>{let e="";t.parent=="form"?e="formSubmit":e="subscribeSubmit",window.dataLayer=window.dataLayer||[];const a={event:e};n.submissionValues.email&&Object.assign(a,{email:btoa(n.submissionValues.email)}),window.dataLayer.push(a)},l=()=>{document.getElementById(`form-${t.formId}`)&&(window.clearInterval(o),window.hbspt.forms.create({region:t.region,portalId:t.portalId,formId:t.formId,target:`#form-${t.formId}`,onFormSubmitted:(n,e)=>m(e)}))};return f(()=>{u(()=>{window.clearInterval(o),window.hbspt&&(o=window.setInterval(l,500))})}),p(()=>{window.clearInterval(o),o=0}),(n,e)=>(s(),d("div",w,[e[0]||(i(-1,!0),(e[0]=(s(),d("div",{class:"form-embed__content",id:`form-${r.formId}`,key:r.formId},null,8,["id"]))).cacheIndex=0,i(1),e[0])]))}},_=c(I,[["__scopeId","data-v-c84c5651"]]);export{_ as default};
